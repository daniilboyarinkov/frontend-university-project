(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=c(e);fetch(e.href,n)}})();document.addEventListener("DOMContentLoaded",function(){function t(o){return new URLSearchParams(window.location.search).get(o)}const r=t("article_view");r&&(document.querySelector(`input[name="article_view"][value="${r}"]`).checked=!0,c(r));function c(o){const e=document.querySelector(".articles__content");o==="list"?e.classList.add("articles__content_horizontal"):e.classList.remove("articles__content_horizontal")}document.querySelectorAll(".articles-view label").forEach(o=>{o.addEventListener("click",function(){const e=this.htmlFor==="list"?"list":"grid",n=new URLSearchParams(window.location.search);n.set("article_view",e),window.history.replaceState({},"",`${window.location.pathname}?${n}`),c(e)})})});function s(t){const r={year:"numeric",month:"short",day:"numeric"};return new Date(t).toLocaleDateString("ru-RU",r)}function l(){return Math.floor(Math.random()*10)+3}function d({image:t,title:r,description:c,date:o}){const e=document.createElement("article");return e.className="card",e.innerHTML=`
    <img class="card__img" src="${t}" alt="${r}" />
    <div class="card__content">
      <h3 class="card__title">${r}</h3>
      <p class="card__text">${c}</p>
      <footer class="card__footer">${s(o)} · ${l()} min read</footer>
    </div>
  `,e}function u(){fetch("https://techcrunch.com/wp-json/wp/v2/posts").then(t=>t.json()).then(t=>{const r=t.slice(0,6),c=document.querySelector(".articles__content");r.forEach(o=>{const e=d({image:o.jetpack_featured_media_url,title:o.title.rendered,description:o.excerpt.rendered,date:o.date});c.appendChild(e)})}).catch(t=>console.error("Ошибка при загрузке статей:",t))}document.addEventListener("DOMContentLoaded",u);document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".articles-btn-add"),r=document.querySelector("template"),c=document.querySelector(".articles__content");function o(e){const n=document.createElement("article");n.className="card",n.innerHTML=`
      <img class="card__img" src="${e.image}" alt="${e.title}" />
      <div class="card__content">
        <h3 class="card__title">${e.title}</h3>
        <p class="card__text">${e.description}</p>
        <footer class="card__footer">${e.date} · ${e.readTime} min read</footer>
      </div>
    `,c.appendChild(n)}t.addEventListener("click",function(){const e=r.content.cloneNode(!0).querySelector("form");t.after(e),t.style.display="none",e.querySelector('button[type="button"]').addEventListener("click",function(){e.remove(),t.style.display="block"}),e.addEventListener("submit",function(n){n.preventDefault();const a=new FormData(e),i={image:a.get("image_url"),title:a.get("article_title"),description:a.get("description"),date:new Date().toLocaleDateString("ru-RU"),readTime:Math.floor(Math.random()*10)+3};o(i),e.remove(),t.style.display="block"})})});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".accordion__item");t.forEach(r=>{r.addEventListener("toggle",function(){this.open&&t.forEach(c=>{c!==this&&(c.open=!1)})})})});
